import{j as e,r as d}from"./react-BhfaBkd6.js";import{c as ns}from"./react-dom-C5iRWG2_.js";import{z as ls}from"./next-themes-gbbEjUac.js";import{T as cs,t as h}from"./sonner-BUHkMaP2.js";import{S as He,R as ds,a as os,b as ms,L as xs,T as hs,C as us,c as gs,d as ps,P as js,e as vs,f as fs,F as Ns,g as ys,h as bs,I as ws,V as Ss,i as Cs,j as ks,k as As,l as Ps,m as Ts,n as Ds,o as Is,p as Fs,q as Ls,r as Bs,s as Es,t as zs,u as Rs,v as $s,w as Ms}from"./@radix-ui-BU81ZEr0.js";import{c as _e}from"./class-variance-authority-B8k91cqS.js";import{c as Hs}from"./clsx-B-dksMZM.js";import{t as _s}from"./tailwind-merge-COJ8Fh6m.js";import{u as U,a as pe,B as Os,R as qs,b as R,N as De}from"./react-router-BhfKUfqe.js";import{C as Xs,S as ce,H as Ie,a as Oe,b as Us,c as V,d as je,L as ve,U as Z,F as ee,e as fe,f as qe,B as Vs,g as Ne,h as Xe,i as Ks,A as Y,j as ye,k as Qs,l as Js,X as Gs,P as Ws,m as Fe,n as Ys,o as Zs,p as he,M as Le,q as ne,r as ue,V as ea,s as Be,t as oe,u as sa,v as aa,w as Ue,E as Ee,x as ta,y as ze,T as ia,D as ra,z as me,G as Re,I as xe}from"./lucide-react-C_emPF9u.js";import{D as na}from"./react-day-picker-DU5xqA21.js";import{o as la}from"./date-fns-CyPT_BQ7.js";import"./cookie-CqkleIqs.js";import"./scheduler-CoSDG3-6.js";import"./aria-hidden-DvXkyWUv.js";import"./react-remove-scroll-CX0HaB3w.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-C2CjM-c0.js";import"./react-style-singleton-DGy-Qas6.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-CtwuQUtO.js";import"./use-callback-ref-BLsXcCjA.js";import"./use-sync-external-store-Dw3YdvX3.js";import"./@floating-ui-uMfbrwpu.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const p of n.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function l(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(t){if(t.ep)return;t.ep=!0;const n=l(t);fetch(t.href,n)}})();const ca=({...a})=>{const{theme:s="system"}=ls();return e.jsx(cs,{theme:s,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...a})};function y(...a){return _s(Hs(a))}const ge=_e("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),c=d.forwardRef(({className:a,variant:s,size:l,asChild:o=!1,...t},n)=>{const p=o?He:"button";return e.jsx(p,{"data-slot":"button",className:y(ge({variant:s,size:l,className:a})),ref:n,...t})});c.displayName="Button";function u({className:a,...s}){return e.jsx("div",{"data-slot":"card",className:y("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",a),...s})}function C({className:a,...s}){return e.jsx("div",{"data-slot":"card-header",className:y("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...s})}function k({className:a,...s}){return e.jsx("h4",{"data-slot":"card-title",className:y("leading-none",a),...s})}function H({className:a,...s}){return e.jsx("p",{"data-slot":"card-description",className:y("text-muted-foreground",a),...s})}function g({className:a,...s}){return e.jsx("div",{"data-slot":"card-content",className:y("px-6 [&:last-child]:pb-6",a),...s})}function S({className:a,type:s,...l}){return e.jsx("input",{type:s,"data-slot":"input",className:y("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...l})}function m({className:a,...s}){return e.jsx(ds,{"data-slot":"label",className:y("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...s})}function da({className:a,orientation:s="horizontal",decorative:l=!0,...o}){return e.jsx(os,{"data-slot":"separator-root",decorative:l,orientation:s,className:y("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...o})}function be({className:a,...s}){return e.jsx(ms,{"data-slot":"tabs",className:y("flex flex-col gap-2",a),...s})}function we({className:a,...s}){return e.jsx(xs,{"data-slot":"tabs-list",className:y("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",a),...s})}function _({className:a,...s}){return e.jsx(hs,{"data-slot":"tabs-trigger",className:y("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...s})}function O({className:a,...s}){return e.jsx(us,{"data-slot":"tabs-content",className:y("flex-1 outline-none",a),...s})}const $="/assets/5df998614cf553b8ecde44808a8dc2a64d4788df-CG6Nxh8P.png";function oa(){const[a,s]=d.useState(""),[l,o]=d.useState(""),[t,n]=d.useState(""),[p,T]=d.useState(""),[P,v]=d.useState(""),[N,w]=d.useState(""),A=U(),E=f=>{f.preventDefault(),h.success("Logged in as therapist"),A("/therapist/dashboard")},j=f=>{f.preventDefault(),t==="admin@bloomsense.com"||p==="admin"?(h.success("Logged in as administrator"),A("/admin/dashboard")):h.error("Invalid admin credentials")},F=f=>{f.preventDefault(),h.success("Logged in as help desk staff"),A("/registration/portal")};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-50 to-cyan-100 p-4",children:e.jsxs("div",{className:"w-full max-w-2xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"flex items-center justify-center mb-6",children:[e.jsx("img",{src:$,alt:"BloomSense",className:"h-16 w-16 mr-4"}),e.jsx("h1",{className:"text-4xl text-gray-900",children:"BloomSense"})]}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Professional therapist portal for comprehensive child assessments"})]}),e.jsxs(u,{className:"w-full max-w-md mx-auto",children:[e.jsxs(C,{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx("img",{src:$,alt:"BloomSense",className:"h-10 w-10 mr-3"}),e.jsx(k,{className:"text-2xl",children:"BloomSense"})]}),e.jsx(H,{children:"Sign in to your account"})]}),e.jsx(g,{children:e.jsxs(be,{defaultValue:"therapist",className:"w-full",children:[e.jsxs(we,{className:"grid w-full grid-cols-3 mb-6",children:[e.jsxs(_,{value:"therapist",className:"flex items-center gap-2",children:[e.jsx(Xs,{className:"h-4 w-4"}),"Therapist"]}),e.jsxs(_,{value:"admin",className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-4 w-4"}),"Admin"]}),e.jsxs(_,{value:"helpdesk",className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"h-4 w-4"}),"Help Desk"]})]}),e.jsxs(O,{value:"therapist",children:[e.jsx("form",{onSubmit:E,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"email",children:"Email"}),e.jsx(S,{id:"email",type:"email",placeholder:"therapist@bloomsense.com",value:a,onChange:f=>s(f.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"password",children:"Password"}),e.jsx(S,{id:"password",type:"password",placeholder:"Enter your password",value:l,onChange:f=>o(f.target.value),required:!0})]}),e.jsx(c,{type:"submit",className:"w-full",children:"Sign In as Therapist"})]})}),e.jsx(da,{className:"my-4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{variant:"ghost",className:"w-full",children:"Forgot Password?"}),e.jsxs("div",{className:"text-center mt-4",children:[e.jsx("span",{className:"text-gray-600",children:"Don't have an account? "}),e.jsx(c,{type:"button",variant:"link",className:"text-[#20B2AA] p-0",onClick:()=>A("/signup"),children:"Sign Up"})]})]})]}),e.jsxs(O,{value:"admin",children:[e.jsx("form",{onSubmit:j,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"admin-email",children:"Admin Email"}),e.jsx(S,{id:"admin-email",type:"email",placeholder:"admin@bloomsense.com",value:t,onChange:f=>n(f.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"admin-password",children:"Admin Password"}),e.jsx(S,{id:"admin-password",type:"password",placeholder:"Enter admin password",value:p,onChange:f=>T(f.target.value),required:!0})]}),e.jsxs(c,{type:"submit",className:"w-full bg-[#20B2AA] hover:bg-[#1a9890]",children:[e.jsx(ce,{className:"h-4 w-4 mr-2"}),"Sign In as Admin"]})]})}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:e.jsxs("p",{className:"text-xs text-blue-800",children:[e.jsx("strong",{children:"Demo credentials:"}),e.jsx("br",{}),"Email: admin@bloomsense.com",e.jsx("br",{}),"Password: admin"]})})]}),e.jsx(O,{value:"helpdesk",children:e.jsx("form",{onSubmit:F,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"helpdesk-email",children:"Help Desk Email"}),e.jsx(S,{id:"helpdesk-email",type:"email",placeholder:"helpdesk@bloomsense.com",value:P,onChange:f=>v(f.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"helpdesk-password",children:"Password"}),e.jsx(S,{id:"helpdesk-password",type:"password",placeholder:"Enter your password",value:N,onChange:f=>w(f.target.value),required:!0})]}),e.jsxs(c,{type:"submit",className:"w-full bg-[#20B2AA] hover:bg-[#1a9890]",children:[e.jsx(Ie,{className:"h-4 w-4 mr-2"}),"Sign In as Help Desk"]})]})})})]})})]})]})})}function Se({className:a,classNames:s,showOutsideDays:l=!0,...o}){return e.jsx(na,{showOutsideDays:l,className:y("p-3",a),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:y(ge({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:y("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",o.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:y(ge({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:({className:t,...n})=>e.jsx(Us,{className:y("size-4",t),...n}),IconRight:({className:t,...n})=>e.jsx(Oe,{className:y("size-4",t),...n})},...o})}function Ce({...a}){return e.jsx(gs,{"data-slot":"popover",...a})}function ke({...a}){return e.jsx(ps,{"data-slot":"popover-trigger",...a})}function Ae({className:a,align:s="center",sideOffset:l=4,...o}){return e.jsx(js,{children:e.jsx(vs,{"data-slot":"popover-content",align:s,sideOffset:l,className:y("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",a),...o})})}function ma(){const[a,s]=d.useState(""),[l,o]=d.useState(),[t,n]=d.useState(""),[p,T]=d.useState(""),[P,v]=d.useState(""),[N,w]=d.useState(""),[A,E]=d.useState(""),[j,F]=d.useState(""),[f,K]=d.useState(""),Q=U(),J=b=>{const D=b.replace(/\D/g,"");return D.length<=5?D:D.length<=12?`${D.slice(0,5)}-${D.slice(5)}`:`${D.slice(0,5)}-${D.slice(5,12)}-${D.slice(12,13)}`},i=b=>{const D=J(b.target.value);v(D)},x=b=>{if(b.preventDefault(),j!==f){alert("Passwords do not match");return}if(P.replace(/\D/g,"").length!==13){alert("Please enter a valid CNIC number (13 digits)");return}const D={fullName:a,dob:l?.toISOString(),contactNumber:t,hospitalEmail:p,cnic:P,address:N,occupation:A,password:j};console.log("New therapist registration:",D),alert("Registration successful! Please sign in with your credentials."),Q("/")};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-50 to-cyan-100 p-4",children:e.jsxs("div",{className:"w-full max-w-3xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[e.jsx("img",{src:$,alt:"BloomSense",className:"h-12 w-12 mr-3"}),e.jsx("h1",{className:"text-3xl text-gray-900",children:"BloomSense"})]}),e.jsx("p",{className:"text-gray-600",children:"Create your therapist account"})]}),e.jsxs(u,{className:"w-full",children:[e.jsxs(C,{className:"text-center",children:[e.jsx(k,{className:"text-2xl",children:"Sign Up"}),e.jsx(H,{children:"Register as a new therapist to access BloomSense"})]}),e.jsx(g,{children:e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(m,{htmlFor:"fullName",children:"Full Name *"}),e.jsx(S,{id:"fullName",type:"text",placeholder:"Enter your full name",value:a,onChange:b=>s(b.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"Date of Birth *"}),e.jsxs(Ce,{children:[e.jsx(ke,{asChild:!0,children:e.jsxs(c,{variant:"outline",className:"w-full justify-start text-left",children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),l?la(l,"PPP"):"Select date"]})}),e.jsx(Ae,{className:"w-auto p-0",align:"start",children:e.jsx(Se,{mode:"single",selected:l,onSelect:o,initialFocus:!0,disabled:b=>b>new Date||b<new Date("1940-01-01")})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"contactNumber",children:"Contact Number *"}),e.jsx(S,{id:"contactNumber",type:"tel",placeholder:"03XX-XXXXXXX",value:t,onChange:b=>n(b.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"hospitalEmail",children:"Hospital Email Address *"}),e.jsx(S,{id:"hospitalEmail",type:"email",placeholder:"doctor@hospital.com",value:p,onChange:b=>T(b.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"cnic",children:"CNIC No *"}),e.jsx(S,{id:"cnic",type:"text",placeholder:"XXXXX-XXXXXXX-X",value:P,onChange:i,maxLength:15,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"occupation",children:"Occupation *"}),e.jsx(S,{id:"occupation",type:"text",placeholder:"e.g., Pediatric Therapist",value:A,onChange:b=>E(b.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(m,{htmlFor:"address",children:"Address *"}),e.jsx(S,{id:"address",type:"text",placeholder:"Enter your address",value:N,onChange:b=>w(b.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"password",children:"Password *"}),e.jsx(S,{id:"password",type:"password",placeholder:"Create a password",value:j,onChange:b=>F(b.target.value),required:!0,minLength:8})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"confirmPassword",children:"Confirm Password *"}),e.jsx(S,{id:"confirmPassword",type:"password",placeholder:"Confirm your password",value:f,onChange:b=>K(b.target.value),required:!0,minLength:8})]})]}),e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsx(c,{type:"submit",className:"w-full bg-[#20B2AA] hover:bg-[#1a9d96]",children:"Sign Up"}),e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-gray-600",children:"Already have an account? "}),e.jsx(c,{type:"button",variant:"link",className:"text-[#20B2AA] p-0",onClick:()=>Q("/"),children:"Sign In"})]})]})]})})]})]})})}const xa=_e("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function L({className:a,variant:s,asChild:l=!1,...o}){const t=l?He:"span";return e.jsx(t,{"data-slot":"badge",className:y(xa({variant:s}),a),...o})}function se({className:a,...s}){return e.jsx(fs,{"data-slot":"avatar",className:y("relative flex size-10 shrink-0 overflow-hidden rounded-full",a),...s})}function ae({className:a,...s}){return e.jsx(Ns,{"data-slot":"avatar-fallback",className:y("bg-muted flex size-full items-center justify-center rounded-full",a),...s})}function ha(){const a=U(),s=[{title:"Active Child Profiles",value:"24",icon:Z,color:"text-teal-600"},{title:"Upcoming Sessions",value:"8",icon:V,color:"text-green-600"},{title:"Pending Assessments",value:"5",icon:ee,color:"text-orange-600"}],l=[{id:1,type:"assessment",child:"Ahmad Khan",message:"New assessment results available",time:"2 hours ago"},{id:2,type:"update",child:"Fatima Ali",message:"Caregiver added new observations",time:"4 hours ago"},{id:3,type:"session",child:"Hassan Ahmed",message:"Session scheduled for tomorrow",time:"1 day ago"}],o=[{id:1,name:"Ahmad Khan",age:4,lastSession:"2 days ago",status:"In Progress"},{id:2,name:"Fatima Ali",age:6,lastSession:"1 week ago",status:"Assessment Complete"},{id:3,name:"Hassan Ahmed",age:3,lastSession:"3 days ago",status:"Follow-up Needed"},{id:4,name:"Aisha Malik",age:5,lastSession:"5 days ago",status:"In Progress"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:$,alt:"BloomSense",className:"h-8 w-8 mr-3"}),e.jsx("h1",{className:"text-2xl text-gray-900",children:"BloomSense"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(c,{variant:"ghost",size:"sm",children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"Settings"]}),e.jsxs(c,{variant:"ghost",size:"sm",onClick:()=>a("/login"),children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl text-gray-900",children:"Welcome back, Dr. Sarah"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Here's what's happening with your patients today."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:s.map((t,n)=>e.jsxs(u,{children:[e.jsxs(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(k,{className:"text-sm",children:t.title}),e.jsx(t.icon,{className:`h-4 w-4 ${t.color}`})]}),e.jsx(g,{children:e.jsx("div",{className:"text-2xl",children:t.value})})]},n))}),e.jsxs(u,{className:"mb-8",children:[e.jsx(C,{children:e.jsx(k,{className:"flex items-center",children:"Quick Actions"})}),e.jsx(g,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(c,{className:"h-auto p-4 flex flex-col items-center space-y-2",onClick:()=>a("/therapist/event-selection"),children:[e.jsx(fe,{className:"h-8 w-8"}),e.jsx("span",{children:"Start New Event"})]}),e.jsxs(c,{variant:"outline",className:"h-auto p-4 flex flex-col items-center space-y-2",onClick:()=>a("/therapist/create-profile"),children:[e.jsx(qe,{className:"h-8 w-8"}),e.jsx("span",{children:"Create Child Profile"})]}),e.jsxs(c,{variant:"outline",className:"h-auto p-4 flex flex-col items-center space-y-2",onClick:()=>a("/therapist/screening"),children:[e.jsx(ee,{className:"h-8 w-8"}),e.jsx("span",{children:"Continue Existing Screening"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(u,{children:[e.jsx(C,{children:e.jsxs(k,{className:"flex items-center",children:[e.jsx(Vs,{className:"h-5 w-5 mr-2"}),"Recent Notifications"]})}),e.jsx(g,{children:e.jsx("div",{className:"space-y-4",children:l.map(t=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:t.child})," - ",t.message]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.time})]}),e.jsx(L,{variant:"outline",className:"text-xs",children:t.type})]},t.id))})})]}),e.jsxs(u,{children:[e.jsx(C,{children:e.jsx(k,{children:"Recent Child Profiles"})}),e.jsx(g,{children:e.jsx("div",{className:"space-y-4",children:o.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>a(`/therapist/child/${t.id}`),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(se,{children:e.jsx(ae,{children:t.name.split(" ").map(n=>n[0]).join("")})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Age ",t.age," • Last session: ",t.lastSession]})]})]}),e.jsx(L,{variant:t.status==="Assessment Complete"?"default":"secondary",className:"text-xs",children:t.status})]},t.id))})})]})]})]})]})}function ie({className:a,...s}){return e.jsx("textarea",{"data-slot":"textarea",className:y("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...s})}function Ve({...a}){return e.jsx(ys,{"data-slot":"select",...a})}function Ke({...a}){return e.jsx(Ss,{"data-slot":"select-value",...a})}function Qe({className:a,size:s="default",children:l,...o}){return e.jsxs(bs,{"data-slot":"select-trigger","data-size":s,className:y("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...o,children:[l,e.jsx(ws,{asChild:!0,children:e.jsx(Ne,{className:"size-4 opacity-50"})})]})}function Je({className:a,children:s,position:l="popper",...o}){return e.jsx(Cs,{children:e.jsxs(ks,{"data-slot":"select-content",className:y("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",l==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...o,children:[e.jsx(ua,{}),e.jsx(As,{className:y("p-1",l==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),e.jsx(ga,{})]})})}function le({className:a,children:s,...l}){return e.jsxs(Ps,{"data-slot":"select-item",className:y("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",a),...l,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Ts,{children:e.jsx(Xe,{className:"size-4"})})}),e.jsx(Ds,{children:s})]})}function ua({className:a,...s}){return e.jsx(Is,{"data-slot":"select-scroll-up-button",className:y("flex cursor-default items-center justify-center py-1",a),...s,children:e.jsx(Ks,{className:"size-4"})})}function ga({className:a,...s}){return e.jsx(Fs,{"data-slot":"select-scroll-down-button",className:y("flex cursor-default items-center justify-center py-1",a),...s,children:e.jsx(Ne,{className:"size-4"})})}function pa(){const a=U(),[s,l]=d.useState({childName:"",age:"",gender:"",contactInfo:"",caregiverName:"",caregiverPhone:"",remarks:""}),o=(n,p)=>{l(T=>({...T,[n]:p}))},t=(n=!1)=>{if(!s.childName||!s.age||!s.caregiverName){h.error("Please fill in all required fields");return}const p=Math.random().toString(36).substr(2,9);h.success("Child profile created successfully"),a(n?`/therapist/screening/${p}`:"/therapist/dashboard")};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex justify-between items-center py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs(c,{variant:"ghost",onClick:()=>a("/therapist/dashboard"),className:"mr-4",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsx("img",{src:$,alt:"BloomSense",className:"h-8 w-8 mr-3"}),e.jsx("h1",{className:"text-2xl text-gray-900",children:"Create Child Profile"})]})})})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs(u,{children:[e.jsx(C,{children:e.jsx(k,{children:"Child Information"})}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Child Details"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"childName",children:"Child Name *"}),e.jsx(S,{id:"childName",placeholder:"Enter child's full name",value:s.childName,onChange:n=>o("childName",n.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"age",children:"Age *"}),e.jsx(S,{id:"age",type:"number",placeholder:"Age in years",value:s.age,onChange:n=>o("age",n.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"gender",children:"Gender"}),e.jsxs(Ve,{value:s.gender,onValueChange:n=>o("gender",n),children:[e.jsx(Qe,{children:e.jsx(Ke,{placeholder:"Select gender"})}),e.jsxs(Je,{children:[e.jsx(le,{value:"male",children:"Male"}),e.jsx(le,{value:"female",children:"Female"}),e.jsx(le,{value:"other",children:"Other"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"contactInfo",children:"Contact Information"}),e.jsx(S,{id:"contactInfo",placeholder:"Email or additional contact info",value:s.contactInfo,onChange:n=>o("contactInfo",n.target.value)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Caregiver Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"caregiverName",children:"Caregiver Name *"}),e.jsx(S,{id:"caregiverName",placeholder:"Primary caregiver's name",value:s.caregiverName,onChange:n=>o("caregiverName",n.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"caregiverPhone",children:"Phone Number"}),e.jsx(S,{id:"caregiverPhone",type:"tel",placeholder:"+92 300 1234567",value:s.caregiverPhone,onChange:n=>o("caregiverPhone",n.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"remarks",children:"Initial Notes/Remarks"}),e.jsx(ie,{id:"remarks",placeholder:"Any initial observations, concerns, or relevant background information...",className:"min-h-[100px]",value:s.remarks,onChange:n=>o("remarks",n.target.value)})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[e.jsxs(c,{className:"flex-1",onClick:()=>t(!0),children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Save & Start Screening"]}),e.jsxs(c,{variant:"outline",className:"flex-1",onClick:()=>t(!1),children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),"Save Profile"]})]}),e.jsx("p",{className:"text-sm text-gray-500 text-center",children:"* Required fields. You can update this information at any time."})]})]})})]})}function ja({className:a,value:s,...l}){return e.jsx(Ls,{"data-slot":"progress",className:y("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",a),...l,children:e.jsx(Bs,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})})}function va({className:a,...s}){return e.jsx(Es,{"data-slot":"radio-group",className:y("grid gap-3",a),...s})}function $e({className:a,...s}){return e.jsx(zs,{"data-slot":"radio-group-item",className:y("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...s,children:e.jsx(Rs,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(Qs,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function fa(){const a=U(),{childId:s}=pe(),[l,o]=d.useState(1),[t,n]=d.useState({}),[p,T]=d.useState(""),P=[{id:"1",question:"Does your child enjoy being swung, bounced on your knee, etc.?"},{id:"2",question:"Does your child take an interest in other children?"},{id:"3",question:"Does your child like climbing on things, such as up stairs?"},{id:"4",question:"Does your child enjoy playing peek-a-boo/hide-and-seek?"},{id:"5",question:"Does your child ever pretend, for example, to talk on the phone or take care of dolls?"},{id:"6",question:"Does your child ever point with the index finger to ask for something?"},{id:"7",question:"Does your child ever point with the index finger to indicate interest in something?"},{id:"8",question:"Can your child play properly with small toys without just mouthing, fiddling, or dropping them?"}],v=j=>{switch(j){case 1:return"Initial Assessment (M-CHAT)";case 2:return"Behavior-Based Assessment"}},N=(j,F)=>{n(f=>({...f,[j]:F}))},w=()=>{if(l===1){if(P.find(F=>!t[F.id])){h.error("Please answer all questions before proceeding");return}o(2),h.success("Progress saved successfully")}},A=()=>{if(!p.trim()){h.error("Please add behavior observations before completing");return}h.success("Screening completed successfully!"),a(s?`/therapist/child/${s}`:"/therapist/dashboard")},E=()=>{h.success("Draft saved successfully")};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs(c,{variant:"ghost",onClick:()=>a("/therapist/dashboard"),className:"mr-4",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsx("img",{src:$,alt:"BloomSense",className:"h-8 w-8 mr-3"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl text-gray-900",children:"Screening Workflow"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ahmad Khan • Age 4"})]})]}),e.jsxs(c,{variant:"outline",onClick:E,children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),"Save as Draft"]})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(u,{className:"mb-8",children:e.jsxs(g,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["Step ",l," of 2"]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round(l/2*100),"% Complete"]})]}),e.jsx(ja,{value:l/2*100,className:"mb-4"}),e.jsx("div",{className:"flex justify-between",children:[1,2].map(j=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${j<=l?"bg-teal-600 text-white":"bg-gray-200 text-gray-600"}`,children:j}),e.jsx("span",{className:`ml-2 text-sm ${j<=l?"text-teal-600":"text-gray-600"}`,children:v(j)})]},j))})]})}),l===1&&e.jsxs(u,{children:[e.jsxs(C,{children:[e.jsx(k,{children:"M-CHAT Screening Checklist"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Please answer each question based on your observations of the child's typical behavior."})]}),e.jsxs(g,{className:"space-y-6",children:[P.map((j,F)=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs(m,{className:"text-base font-medium",children:[F+1,". ",j.question]}),e.jsxs(va,{value:t[j.id]||"",onValueChange:f=>N(j.id,f),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{value:"yes",id:`${j.id}-yes`}),e.jsx(m,{htmlFor:`${j.id}-yes`,children:"Yes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{value:"no",id:`${j.id}-no`}),e.jsx(m,{htmlFor:`${j.id}-no`,children:"No"})]})]})]},j.id)),e.jsx("div",{className:"pt-6 flex justify-end",children:e.jsxs(c,{onClick:w,children:["Continue to Stage 2",e.jsx(Js,{className:"h-4 w-4 ml-2"})]})})]})]}),l===2&&e.jsxs(u,{children:[e.jsxs(C,{children:[e.jsx(k,{children:"Behavior-Based Assessment"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Provide detailed observations of motor skills and communication cues."})]}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(m,{htmlFor:"behaviorNotes",children:"Motor Skills & Communication Observations"}),e.jsx(ie,{id:"behaviorNotes",placeholder:`Document observations about:
• Motor coordination and movement patterns
• Eye contact and social engagement
• Verbal and non-verbal communication
• Response to social interactions
• Repetitive behaviors or movements
• Sensory sensitivities
• Play and interaction style`,className:"min-h-[200px]",value:p,onChange:j=>T(j.target.value)})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Assessment Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"M-CHAT Results"}),e.jsxs("p",{className:"font-medium",children:[Object.keys(t).length,"/8 questions answered"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Behavior Assessment"}),e.jsx("p",{className:"font-medium",children:p.trim()?"Complete":"In progress"})]})]})]}),e.jsxs("div",{className:"pt-6 flex justify-between",children:[e.jsxs(c,{variant:"outline",onClick:()=>o(1),children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Back to Stage 1"]}),e.jsx(c,{onClick:A,children:"Finish Screening"})]})]})]})]})]})}const Pe="fsamyuxiikzqvoemprjr",G="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZzYW15dXhpaWt6cXZvZW1wcmpyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4NzIyMDQsImV4cCI6MjA3ODQ0ODIwNH0.ACaoKE-65LQjcuIEQIiKt1j39MHWKbph6XgIOXiKNkU";function Na(){const a=U(),{childId:s}=pe(),[l,o]=d.useState("overview"),[t,n]=d.useState(""),[p,T]=d.useState([]),[P,v]=d.useState(!0),[N,w]=d.useState(!1),[A,E]=d.useState(void 0),[j,F]=d.useState(""),[f,K]=d.useState([]),[Q,J]=d.useState(!0),[i,x]=d.useState(!1),[b,D]=d.useState("In Progress"),[q,B]=d.useState(!1),[z,W]=d.useState(""),te=`https://${Pe}.supabase.co/functions/v1/make-server-8d885905`;d.useEffect(()=>{s&&(Ge(),We())},[s]);const Ge=async()=>{try{v(!0);const I=await(await fetch(`${te}/comments/${s}`,{headers:{Authorization:`Bearer ${G}`}})).json();I.success&&T(I.comments)}catch(r){console.error("Error loading comments:",r),h.error("Failed to load comments")}finally{v(!1)}},We=async()=>{try{J(!0);const I=await(await fetch(`${te}/meetings/${s}`,{headers:{Authorization:`Bearer ${G}`}})).json();I.success&&K(I.meetings)}catch(r){console.error("Error loading meetings:",r),h.error("Failed to load meetings")}finally{J(!1)}},X={id:s||"1",name:"Ahmad Khan",age:4,gender:"Male",caregiverName:"Fatima Khan",caregiverPhone:"+92 300 1234567",createdDate:"2024-01-15",lastAssessment:"2024-01-20"},Ye=[{id:1,date:"2024-01-20",type:"Complete Screening",mchatScore:"6/8 Red Flags",adosScore:"12",iqScore:"85",status:"completed",risk:"moderate"},{id:2,date:"2024-01-15",type:"Initial Assessment",mchatScore:"4/8 Red Flags",status:"completed",risk:"low"}],Te=[{id:1,date:"2024-01-20",type:"Assessment Complete",description:"Full screening workflow completed including M-CHAT, behavior analysis, and ADOS testing",status:"completed"},{id:2,date:"2024-01-18",type:"Caregiver Update",description:"Parent reported improved eye contact during meal times",status:"update"},{id:3,date:"2024-01-15",type:"Profile Created",description:"Initial child profile created with basic information",status:"created"}],Ze=[{id:1,category:"Immediate Actions",priority:"high",items:["Schedule follow-up assessment in 3 months","Refer to speech therapist for communication evaluation","Begin social skills group therapy"]},{id:2,category:"Home-based Interventions",priority:"medium",items:["Implement visual schedules for daily routines","Practice joint attention activities during play","Use simple, concrete language during interactions"]},{id:3,category:"Long-term Goals",priority:"low",items:["Develop peer interaction skills","Improve functional communication","Increase independent daily living skills"]}],es=r=>{switch(r){case"high":return"text-red-600 bg-red-50";case"medium":return"text-orange-600 bg-orange-50";case"low":return"text-blue-600 bg-blue-50";default:return"text-gray-600 bg-gray-50"}},ss=r=>{switch(r){case"high":return e.jsx(L,{variant:"destructive",children:"High Risk"});case"moderate":return e.jsx(L,{className:"bg-orange-100 text-orange-800",children:"Moderate Risk"});case"low":return e.jsx(L,{className:"bg-green-100 text-green-800",children:"Low Risk"});default:return e.jsx(L,{variant:"secondary",children:"Unknown"})}},as=r=>{switch(r){case"completed":return e.jsx(he,{className:"h-4 w-4 text-green-600"});case"update":return e.jsx(sa,{className:"h-4 w-4 text-blue-600"});case"created":return e.jsx(oe,{className:"h-4 w-4 text-gray-600"});default:return e.jsx(oe,{className:"h-4 w-4 text-gray-600"})}},ts=async()=>{if(!t.trim()){h.error("Please enter a comment");return}try{w(!0);const I=await(await fetch(`${te}/comments/${s}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`},body:JSON.stringify({text:t,therapist:"Dr. Sarah Ahmed"})})).json();I.success?(T([I.comment,...p]),n(""),h.success("Comment added successfully")):h.error(I.error||"Failed to add comment")}catch(r){console.error("Error adding comment:",r),h.error("Failed to add comment")}finally{w(!1)}},is=async()=>{if(!A||!j){h.error("Please select both date and time");return}try{x(!0);const I=await(await fetch(`${te}/meetings/${s}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`},body:JSON.stringify({date:A.toISOString().split("T")[0],time:j,parentPhone:X.caregiverPhone})})).json();I.success?(K([I.meeting,...f]),h.success("Meeting scheduled! WhatsApp notification sent to parent."),E(void 0),F("")):h.error(I.error||"Failed to schedule meeting")}catch(r){console.error("Error scheduling meeting:",r),h.error("Failed to schedule meeting")}finally{x(!1)}},rs=async r=>{try{const re=await(await fetch(`${te}/meetings/${s}/${r}/reminder`,{method:"POST",headers:{Authorization:`Bearer ${G}`}})).json();re.success?(K(f.map(de=>de.id===r?{...de,reminderSent:!0}:de)),h.success("WhatsApp reminder sent to parent")):h.error(re.error||"Failed to send reminder")}catch(I){console.error("Error sending reminder:",I),h.error("Failed to send reminder")}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs(c,{variant:"ghost",onClick:()=>a("/therapist/dashboard"),className:"mr-4",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsx("img",{src:$,alt:"BloomSense",className:"h-8 w-8 mr-3"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl text-gray-900",children:X.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Age ",X.age," • Child Profile"]})]})]}),e.jsxs(c,{onClick:()=>a(`/therapist/screening/${X.id}`),children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Start Follow-up Screening"]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(u,{className:"mb-8",children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsx(se,{className:"h-20 w-20",children:e.jsx(ae,{className:"text-2xl",children:"AK"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-2xl text-gray-900",children:X.name}),e.jsx("div",{className:"flex items-center space-x-2",children:q?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{type:"text",value:z,onChange:r=>W(r.target.value),className:"h-8 w-48",placeholder:"Enter status...",autoFocus:!0}),e.jsx(c,{size:"sm",variant:"ghost",onClick:()=>{z.trim()&&(D(z),B(!1),h.success("Status updated"))},children:e.jsx(Xe,{className:"h-4 w-4"})}),e.jsx(c,{size:"sm",variant:"ghost",onClick:()=>{B(!1),W("")},children:e.jsx(Gs,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{variant:"secondary",children:b}),e.jsx(c,{size:"sm",variant:"ghost",onClick:()=>{W(b),B(!0)},children:e.jsx(Ws,{className:"h-3 w-3"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Age ",X.age,", ",X.gender]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Caregiver: ",X.caregiverName]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(Ys,{className:"h-4 w-4 mr-2"}),X.caregiverPhone]})]})]})]})})}),e.jsxs(be,{value:l,onValueChange:o,children:[e.jsxs(we,{className:"grid w-full grid-cols-5",children:[e.jsx(_,{value:"overview",children:"Overview"}),e.jsx(_,{value:"timeline",children:"Timeline"}),e.jsx(_,{value:"recommendations",children:"Recommendations"}),e.jsx(_,{value:"comments",children:"Comments"}),e.jsx(_,{value:"meetings",children:"Follow-Up"})]}),e.jsx(O,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(u,{children:[e.jsx(C,{children:e.jsxs(k,{className:"flex items-center",children:[e.jsx(ee,{className:"h-5 w-5 mr-2"}),"Assessment History"]})}),e.jsx(g,{children:e.jsx("div",{className:"space-y-4",children:Ye.map(r=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium",children:r.type}),ss(r.risk)]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.jsx(V,{className:"h-4 w-4 inline mr-1"}),new Date(r.date).toLocaleDateString()]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[r.mchatScore&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"M-CHAT:"})," ",r.mchatScore]}),r.adosScore&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"ADOS:"})," ",r.adosScore]}),r.iqScore&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"IQ:"})," ",r.iqScore]})]})]},r.id))})})]}),e.jsxs(u,{children:[e.jsx(C,{children:e.jsxs(k,{className:"flex items-center",children:[e.jsx(V,{className:"h-5 w-5 mr-2"}),"Session History"]})}),e.jsx(g,{children:e.jsx("div",{className:"space-y-4",children:[{id:1,title:"Social Skills Development",date:"2024-01-22",notes:"Child showed good progress in maintaining eye contact during structured activities. Responded positively to social games."},{id:2,title:"Behavioral Assessment",date:"2024-01-18",notes:"Observed repetitive behaviors during free play. Recommend sensory integration activities for future sessions."}].map(r=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium",children:r.title}),e.jsx(L,{variant:"outline",className:"text-xs",children:"Session"})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[e.jsx(V,{className:"h-4 w-4 inline mr-1"}),new Date(r.date).toLocaleDateString()]}),e.jsx("p",{className:"text-sm text-gray-700",children:r.notes})]},r.id))})})]}),e.jsxs(u,{children:[e.jsx(C,{children:e.jsx(k,{children:"Assessment Summary"})}),e.jsx(g,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Latest Screening Results"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"M-CHAT Risk Factors"}),e.jsx("span",{className:"text-sm font-medium",children:"6/8"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"ADOS Score"}),e.jsx("span",{className:"text-sm font-medium",children:"12"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"IQ Assessment"}),e.jsx("span",{className:"text-sm font-medium",children:"85"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Profile Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Profile Created"}),e.jsx("span",{className:"text-sm font-medium",children:new Date(X.createdDate).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Last Assessment"}),e.jsx("span",{className:"text-sm font-medium",children:new Date(X.lastAssessment).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Sessions"}),e.jsx("span",{className:"text-sm font-medium",children:"3"})]})]})]})]})})]})]})}),e.jsx(O,{value:"timeline",children:e.jsxs(u,{children:[e.jsx(C,{children:e.jsx(k,{children:"Session Timeline"})}),e.jsx(g,{children:e.jsx("div",{className:"space-y-6",children:Te.map((r,I)=>e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[as(r.status),I<Te.length-1&&e.jsx("div",{className:"w-px h-16 bg-gray-200 mt-2"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:r.type}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(r.date).toLocaleDateString()})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.description})]})]},r.id))})})]})}),e.jsx(O,{value:"recommendations",children:e.jsxs("div",{className:"space-y-6",children:[Ze.map(r=>e.jsxs(u,{children:[e.jsx(C,{children:e.jsxs(k,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zs,{className:"h-5 w-5 mr-2"}),r.category]}),e.jsxs(L,{className:es(r.priority),children:[r.priority.toUpperCase()," PRIORITY"]})]})}),e.jsx(g,{children:e.jsx("ul",{className:"space-y-2",children:r.items.map((I,re)=>e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(he,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:I})]},re))})})]},r.id)),e.jsx(u,{className:"bg-teal-50 border-teal-200",children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("img",{src:$,alt:"BloomSense",className:"h-6 w-6 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-teal-900 mb-2",children:"AI-Generated Insights"}),e.jsx("p",{className:"text-sm text-teal-800",children:"Based on the assessment results, Ahmad shows moderate risk indicators. Early intervention focusing on communication and social skills is recommended. The combination of structured activities and caregiver training should yield positive outcomes."})]})]})})})]})}),e.jsx(O,{value:"comments",children:e.jsxs(u,{children:[e.jsx(C,{children:e.jsxs(k,{className:"flex items-center",children:[e.jsx(Le,{className:"h-5 w-5 mr-2"}),"Doctor's Comments"]})}),e.jsxs(g,{children:[e.jsxs("div",{className:"space-y-3 mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx(m,{htmlFor:"newComment",children:"Add New Comment"}),e.jsx(ie,{id:"newComment",placeholder:"Enter your observations, notes, or recommendations for this child...",className:"min-h-[100px]",value:t,onChange:r=>n(r.target.value)}),e.jsxs(c,{onClick:ts,disabled:N,children:[N?e.jsx(ne,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(ue,{className:"h-4 w-4 mr-2"}),N?"Adding...":"Add Comment"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Comment History"}),P?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ne,{className:"h-6 w-6 animate-spin text-teal-600"})}):p.length===0?e.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No comments yet. Add your first comment above."}):p.map(r=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:r.therapist}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(r.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsx(Le,{className:"h-4 w-4 text-gray-400"})]}),e.jsx("p",{className:"text-sm text-gray-700",children:r.text})]},r.id))]})]})]})}),e.jsx(O,{value:"meetings",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs(u,{children:[e.jsx(C,{children:e.jsxs(k,{className:"flex items-center",children:[e.jsx(ea,{className:"h-5 w-5 mr-2"}),"Schedule Follow-Up Meeting"]})}),e.jsx(g,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"Meeting Date"}),e.jsxs(Ce,{children:[e.jsx(ke,{asChild:!0,children:e.jsxs(c,{variant:"outline",className:"w-full justify-start text-left",children:[e.jsx(V,{className:"h-4 w-4 mr-2"}),A?A.toLocaleDateString():"Select date"]})}),e.jsx(Ae,{className:"w-auto p-0",align:"start",children:e.jsx(Se,{mode:"single",selected:A,onSelect:E,disabled:r=>r<new Date})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"meetingTime",children:"Meeting Time"}),e.jsx(S,{id:"meetingTime",type:"time",value:j,onChange:r=>F(r.target.value)})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," A Google Meet link will be automatically generated and sent to the parent via WhatsApp. A reminder will be sent 30 minutes before the scheduled time."]})}),e.jsxs(c,{onClick:is,className:"w-full",disabled:i,children:[i?e.jsx(ne,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Be,{className:"h-4 w-4 mr-2"}),i?"Scheduling...":"Schedule Meeting & Send Invitation"]})]})})]}),e.jsxs(u,{children:[e.jsx(C,{children:e.jsx(k,{children:"Scheduled Meetings"})}),e.jsx(g,{children:Q?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ne,{className:"h-6 w-6 animate-spin text-teal-600"})}):f.length===0?e.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No meetings scheduled yet. Schedule one above."}):e.jsx("div",{className:"space-y-4",children:f.map(r=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(V,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"font-medium",children:new Date(r.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:r.time})]})]}),e.jsx(L,{className:"bg-green-100 text-green-800",children:r.status})]}),e.jsxs("div",{className:"bg-gray-50 rounded p-3 mb-3",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Google Meet Link:"}),e.jsx("a",{href:r.meetLink,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-teal-600 hover:underline break-all",children:r.meetLink})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-600",children:r.reminderSent?"Reminder sent ✓":"Reminder pending"})]}),!r.reminderSent&&e.jsx(c,{size:"sm",variant:"outline",onClick:()=>rs(r.id),children:"Send Reminder Now"})]})]},r.id))})})]})]})})]})]})]})}function ya(){const a=U(),[s,l]=d.useState([]),[o,t]=d.useState(new Set),[n,p]=d.useState(""),[T,P]=d.useState(!0),[v,N]=d.useState({totalTherapists:0,totalPatients:0,activeScreenings:0,completedScreenings:0});d.useEffect(()=>{w()},[]);const w=async()=>{try{const i=await fetch(`https://${Pe}.supabase.co/functions/v1/make-server-8d885905/admin/therapists`,{headers:{Authorization:`Bearer ${G}`}});if(i.ok){const x=await i.json();l(x.therapists||[]);const b=x.therapists.reduce((B,z)=>B+z.totalPatients,0),D=x.therapists.reduce((B,z)=>B+z.patients.filter(W=>W.status==="In Progress").length,0),q=x.therapists.reduce((B,z)=>B+z.patients.filter(W=>W.status==="Assessment Complete").length,0);N({totalTherapists:x.therapists.length,totalPatients:b,activeScreenings:D,completedScreenings:q})}else A()}catch(i){console.error("Error loading admin data:",i),A()}finally{P(!1)}},A=()=>{const i=[{id:1,name:"Dr. Sarah Ahmed",email:"sarah.ahmed@bloomsense.com",role:"Senior Therapist",status:"active",lastLogin:"2024-01-20",totalPatients:4,patients:[{id:1,name:"Ahmad Khan",age:4,status:"In Progress",lastSession:"2 days ago",riskLevel:"Moderate",screeningStage:"M-CHAT"},{id:2,name:"Fatima Ali",age:6,status:"Assessment Complete",lastSession:"1 week ago",riskLevel:"Low",screeningStage:"Complete"},{id:3,name:"Hassan Ahmed",age:3,status:"Follow-up Needed",lastSession:"3 days ago",riskLevel:"High",screeningStage:"Behavior Analysis"},{id:4,name:"Aisha Malik",age:5,status:"In Progress",lastSession:"5 days ago",riskLevel:"Low",screeningStage:"M-CHAT"}]},{id:2,name:"Dr. Ali Hassan",email:"ali.hassan@bloomsense.com",role:"Therapist",status:"active",lastLogin:"2024-01-19",totalPatients:3,patients:[{id:5,name:"Omar Abdullah",age:4,status:"In Progress",lastSession:"1 day ago",riskLevel:"Moderate",screeningStage:"Behavior Analysis"},{id:6,name:"Zainab Hussain",age:5,status:"Assessment Complete",lastSession:"4 days ago",riskLevel:"Low",screeningStage:"Complete"},{id:7,name:"Yusuf Ibrahim",age:3,status:"In Progress",lastSession:"2 days ago",riskLevel:"High",screeningStage:"M-CHAT"}]},{id:3,name:"Dr. Fatima Khan",email:"fatima.khan@bloomsense.com",role:"Therapist",status:"active",lastLogin:"2024-01-18",totalPatients:2,patients:[{id:8,name:"Layla Mansour",age:6,status:"Follow-up Needed",lastSession:"1 week ago",riskLevel:"Moderate",screeningStage:"Behavior Analysis"},{id:9,name:"Kareem Saeed",age:4,status:"In Progress",lastSession:"3 days ago",riskLevel:"Low",screeningStage:"M-CHAT"}]},{id:4,name:"Dr. Mohamed Rashid",email:"mohamed.rashid@bloomsense.com",role:"Senior Therapist",status:"active",lastLogin:"2024-01-20",totalPatients:5,patients:[{id:10,name:"Noor Hamza",age:3,status:"In Progress",lastSession:"1 day ago",riskLevel:"High",screeningStage:"Behavior Analysis"},{id:11,name:"Amina Farooq",age:5,status:"Assessment Complete",lastSession:"2 days ago",riskLevel:"Low",screeningStage:"Complete"},{id:12,name:"Ibrahim Tariq",age:4,status:"In Progress",lastSession:"4 days ago",riskLevel:"Moderate",screeningStage:"M-CHAT"},{id:13,name:"Sara Nabil",age:6,status:"Follow-up Needed",lastSession:"1 week ago",riskLevel:"High",screeningStage:"Behavior Analysis"},{id:14,name:"Adam Khalil",age:3,status:"In Progress",lastSession:"2 days ago",riskLevel:"Low",screeningStage:"M-CHAT"}]}];l(i);const x=i.reduce((q,B)=>q+B.totalPatients,0),b=i.reduce((q,B)=>q+B.patients.filter(z=>z.status==="In Progress").length,0),D=i.reduce((q,B)=>q+B.patients.filter(z=>z.status==="Assessment Complete").length,0);N({totalTherapists:i.length,totalPatients:x,activeScreenings:b,completedScreenings:D})},E=i=>{const x=new Set(o);x.has(i)?x.delete(i):x.add(i),t(x)},j=()=>{t(new Set(s.map(i=>i.id)))},F=()=>{t(new Set)},f=i=>{switch(i?.toLowerCase()){case"high":return"bg-red-100 text-red-800";case"moderate":return"bg-orange-100 text-orange-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},K=i=>{switch(i.toLowerCase()){case"in progress":return"bg-blue-100 text-blue-800";case"assessment complete":return"bg-green-100 text-green-800";case"follow-up needed":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},Q=s.filter(i=>i.name.toLowerCase().includes(n.toLowerCase())||i.email.toLowerCase().includes(n.toLowerCase())||i.patients.some(x=>x.name.toLowerCase().includes(n.toLowerCase()))),J=()=>{h.success("Logged out successfully"),a("/login")};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:$,alt:"BloomSense",className:"h-8 w-8 mr-3"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl text-gray-900",children:"BloomSense Admin"}),e.jsx("p",{className:"text-sm text-gray-600",children:"System Administration Dashboard"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(c,{variant:"ghost",size:"sm",onClick:()=>a("/admin/settings"),children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"Settings"]}),e.jsxs(c,{variant:"ghost",size:"sm",onClick:J,children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl text-gray-900",children:"System Overview"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage all therapists and monitor patient progress across the platform."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx(u,{children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Therapists"}),e.jsx("p",{className:"text-2xl",children:v.totalTherapists})]}),e.jsx(ce,{className:"h-8 w-8 text-[#20B2AA]"})]})})}),e.jsx(u,{children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Patients"}),e.jsx("p",{className:"text-2xl",children:v.totalPatients})]}),e.jsx(Z,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(u,{children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Screenings"}),e.jsx("p",{className:"text-2xl",children:v.activeScreenings})]}),e.jsx(aa,{className:"h-8 w-8 text-orange-600"})]})})}),e.jsx(u,{children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Completed"}),e.jsx("p",{className:"text-2xl",children:v.completedScreenings})]}),e.jsx(ee,{className:"h-8 w-8 text-green-600"})]})})})]}),e.jsx(u,{className:"mb-6",children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative flex-1 w-full",children:[e.jsx(Ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(S,{placeholder:"Search therapists or patients...",value:n,onChange:i=>p(i.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:j,children:"Expand All"}),e.jsx(c,{variant:"outline",size:"sm",onClick:F,children:"Collapse All"})]})]})})}),e.jsxs(u,{children:[e.jsxs(C,{children:[e.jsxs(k,{className:"flex items-center",children:[e.jsx(Z,{className:"h-5 w-5 mr-2"}),"Therapists & Their Patients"]}),e.jsx(H,{children:"View all therapists and their assigned patients"})]}),e.jsx(g,{children:T?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading..."}):Q.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No therapists found"}):e.jsx("div",{className:"space-y-4",children:Q.map(i=>e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 hover:bg-gray-100 cursor-pointer transition-colors",onClick:()=>E(i.id),children:[e.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[e.jsx(se,{className:"h-12 w-12",children:e.jsx(ae,{className:"bg-[#20B2AA] text-white",children:i.name.split(" ").map(x=>x[0]).join("")})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:i.name}),e.jsx(L,{variant:"outline",className:"text-xs",children:i.role}),e.jsx(L,{variant:i.status==="active"?"default":"secondary",className:"text-xs",children:i.status})]}),e.jsx("p",{className:"text-sm text-gray-600",children:i.email}),e.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[e.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(Z,{className:"h-3 w-3 mr-1"}),i.totalPatients," patients"]}),e.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(V,{className:"h-3 w-3 mr-1"}),"Last login: ",i.lastLogin]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{variant:"ghost",size:"sm",onClick:x=>{x.stopPropagation(),h.info("Viewing therapist details...")},children:e.jsx(Ee,{className:"h-4 w-4"})}),o.has(i.id)?e.jsx(Ne,{className:"h-5 w-5 text-gray-500"}):e.jsx(Oe,{className:"h-5 w-5 text-gray-500"})]})]}),o.has(i.id)&&e.jsx("div",{className:"p-4 bg-white border-t",children:i.patients.length===0?e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No patients assigned"}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:["Patients (",i.patients.length,")"]}),i.patients.map(x=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx(se,{className:"h-10 w-10",children:e.jsx(ae,{className:"bg-blue-100 text-blue-700",children:x.name.split(" ").map(b=>b[0]).join("")})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium text-sm text-gray-900",children:x.name}),e.jsxs(L,{variant:"secondary",className:"text-xs",children:["Age ",x.age]})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Last session: ",x.lastSession]}),x.screeningStage&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Stage: ",x.screeningStage]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[x.riskLevel&&e.jsxs(L,{className:`text-xs ${f(x.riskLevel)}`,children:[x.riskLevel," Risk"]}),e.jsx(L,{className:`text-xs ${K(x.status)}`,children:x.status}),e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>h.info(`Viewing details for ${x.name}`),children:e.jsx(Ee,{className:"h-4 w-4"})})]})]},x.id))]})})]},i.id))})})]})]})]})}function M({className:a,...s}){return e.jsx($s,{"data-slot":"switch",className:y("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...s,children:e.jsx(Ms,{"data-slot":"switch-thumb",className:y("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function ba(){const a=U(),[s,l]=d.useState("therapists"),o=[{id:1,name:"Dr. Sarah Ahmed",email:"sarah.ahmed@neurodetect.com",role:"Senior Therapist",status:"active",patients:24,lastLogin:"2024-01-20"},{id:2,name:"Dr. Ali Hassan",email:"ali.hassan@neurodetect.com",role:"Therapist",status:"active",patients:18,lastLogin:"2024-01-19"},{id:3,name:"Dr. Fatima Khan",email:"fatima.khan@neurodetect.com",role:"Therapist",status:"inactive",patients:12,lastLogin:"2024-01-15"}],t=["Does your child enjoy being swung, bounced on your knee, etc.?","Does your child take an interest in other children?","Does your child like climbing on things, such as up stairs?","Does your child enjoy playing peek-a-boo/hide-and-seek?","Does your child ever pretend, for example, to talk on the phone or take care of dolls?"],n={totalChildren:156,totalTherapists:8,totalCaregivers:142,completedScreenings:89,pendingAssessments:23},p=()=>{h.success("Data export initiated. You will receive an email when ready.")},T=()=>{h.success("Therapist invitation sent successfully")},P=(v,N)=>{const w=N==="active"?"inactive":"active";h.success(`Therapist status updated to ${w}`)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex justify-between items-center py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs(c,{variant:"ghost",onClick:()=>a("/admin/dashboard"),className:"mr-4",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),e.jsx("img",{src:$,alt:"BloomSense",className:"h-8 w-8 mr-3"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl text-gray-900",children:"Admin Settings"}),e.jsx("p",{className:"text-sm text-gray-600",children:"System administration and management"})]})]})})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[e.jsx(u,{children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Children"}),e.jsx("p",{className:"text-2xl font-bold",children:n.totalChildren})]}),e.jsx(Z,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(u,{children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Therapists"}),e.jsx("p",{className:"text-2xl font-bold",children:n.totalTherapists})]}),e.jsx(ce,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(u,{children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Caregivers"}),e.jsx("p",{className:"text-2xl font-bold",children:n.totalCaregivers})]}),e.jsx(Z,{className:"h-8 w-8 text-purple-600"})]})})}),e.jsx(u,{children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Completed"}),e.jsx("p",{className:"text-2xl font-bold",children:n.completedScreenings})]}),e.jsx(ee,{className:"h-8 w-8 text-orange-600"})]})})}),e.jsx(u,{children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold",children:n.pendingAssessments})]}),e.jsx(ta,{className:"h-8 w-8 text-red-600"})]})})})]}),e.jsxs(be,{value:s,onValueChange:l,children:[e.jsxs(we,{className:"grid w-full grid-cols-4",children:[e.jsx(_,{value:"therapists",children:"Therapist Accounts"}),e.jsx(_,{value:"checklists",children:"Assessment Tools"}),e.jsx(_,{value:"data",children:"Data Management"}),e.jsx(_,{value:"system",children:"System Settings"})]}),e.jsx(O,{value:"therapists",className:"space-y-6",children:e.jsxs(u,{children:[e.jsx(C,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(k,{children:"Therapist Accounts"}),e.jsx(H,{children:"Manage therapist access and permissions"})]}),e.jsxs(c,{onClick:T,children:[e.jsx(ue,{className:"h-4 w-4 mr-2"}),"Add Therapist"]})]})}),e.jsx(g,{children:e.jsx("div",{className:"space-y-4",children:o.map(v=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(se,{children:e.jsx(ae,{children:v.name.split(" ").map(N=>N[0]).join("")})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:v.name}),e.jsx("p",{className:"text-sm text-gray-600",children:v.email}),e.jsxs("p",{className:"text-sm text-gray-500",children:[v.role," • ",v.patients," patients"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(L,{variant:v.status==="active"?"default":"secondary",children:v.status}),e.jsx(c,{variant:"ghost",size:"sm",children:e.jsx(ze,{className:"h-4 w-4"})}),e.jsx(M,{checked:v.status==="active",onCheckedChange:()=>P(v.id,v.status)})]})]},v.id))})})]})}),e.jsxs(O,{value:"checklists",className:"space-y-6",children:[e.jsxs(u,{children:[e.jsxs(C,{children:[e.jsx(k,{children:"M-CHAT Question Set"}),e.jsx(H,{children:"Manage screening questions and assessment criteria"})]}),e.jsx(g,{children:e.jsxs("div",{className:"space-y-4",children:[t.map((v,N)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium",children:["Question ",N+1]}),e.jsx("p",{className:"text-sm text-gray-600",children:v})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{variant:"ghost",size:"sm",children:e.jsx(ze,{className:"h-4 w-4"})}),e.jsx(c,{variant:"ghost",size:"sm",children:e.jsx(ia,{className:"h-4 w-4"})})]})]},N)),e.jsxs(c,{variant:"outline",className:"w-full",children:[e.jsx(ue,{className:"h-4 w-4 mr-2"}),"Add New Question"]})]})})]}),e.jsxs(u,{children:[e.jsxs(C,{children:[e.jsx(k,{children:"M-CHAT Risk Thresholds"}),e.jsx(H,{children:"Configure M-CHAT assessment risk indicators"})]}),e.jsx(g,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"lowRisk",children:"Low Risk Threshold"}),e.jsx(S,{id:"lowRisk",defaultValue:"0-2 red flags"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"moderateRisk",children:"Moderate Risk Threshold"}),e.jsx(S,{id:"moderateRisk",defaultValue:"3-5 red flags"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"highRisk",children:"High Risk Threshold"}),e.jsx(S,{id:"highRisk",defaultValue:"6+ red flags"})]})]})})]})]}),e.jsxs(O,{value:"data",className:"space-y-6",children:[e.jsxs(u,{children:[e.jsxs(C,{children:[e.jsxs(k,{className:"flex items-center",children:[e.jsx(ra,{className:"h-5 w-5 mr-2"}),"Data Export & Research"]}),e.jsx(H,{children:"Export anonymized data for research and policy development"})]}),e.jsx(g,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Data Export Options"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{htmlFor:"includePersonal",children:"Include Personal Information"}),e.jsx(M,{id:"includePersonal"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{htmlFor:"includeScores",children:"Include Assessment Scores"}),e.jsx(M,{id:"includeScores",defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{htmlFor:"includeTimeline",children:"Include Session Timeline"}),e.jsx(M,{id:"includeTimeline",defaultChecked:!0})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Export Format"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{variant:"outline",className:"w-full justify-start",onClick:p,children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Export as CSV"]}),e.jsxs(c,{variant:"outline",className:"w-full justify-start",onClick:p,children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Export as JSON"]}),e.jsxs(c,{variant:"outline",className:"w-full justify-start",onClick:p,children:[e.jsx(me,{className:"h-4 w-4 mr-2"}),"Export Research Report"]})]})]})]})})]}),e.jsxs(u,{children:[e.jsxs(C,{children:[e.jsx(k,{children:"Data Import"}),e.jsx(H,{children:"Import assessment data from external sources"})]}),e.jsx(g,{children:e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[e.jsx(Re,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Drag and drop files here, or click to browse"}),e.jsxs(c,{variant:"outline",children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Choose Files"]})]})})]})]}),e.jsx(O,{value:"system",className:"space-y-6",children:e.jsxs(u,{children:[e.jsx(C,{children:e.jsxs(k,{className:"flex items-center",children:[e.jsx(je,{className:"h-5 w-5 mr-2"}),"System Configuration"]})}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"General Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{htmlFor:"autoBackup",children:"Automatic Data Backup"}),e.jsx(M,{id:"autoBackup",defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{htmlFor:"emailNotifications",children:"Email Notifications"}),e.jsx(M,{id:"emailNotifications",defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{htmlFor:"aiAnalysis",children:"AI-Powered Analysis"}),e.jsx(M,{id:"aiAnalysis",defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{htmlFor:"dataRetention",children:"30-Day Data Retention"}),e.jsx(M,{id:"dataRetention"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Security Settings"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{htmlFor:"twoFactor",children:"Two-Factor Authentication"}),e.jsx(M,{id:"twoFactor",defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{htmlFor:"sessionTimeout",children:"Auto Session Timeout"}),e.jsx(M,{id:"sessionTimeout",defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{htmlFor:"auditLog",children:"Audit Logging"}),e.jsx(M,{id:"auditLog",defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{htmlFor:"dataEncryption",children:"Data Encryption"}),e.jsx(M,{id:"dataEncryption",defaultChecked:!0})]})]})]})]}),e.jsx("div",{className:"pt-6 border-t",children:e.jsx(c,{className:"w-full",children:"Save Configuration"})})]})]})})]})]})]})}function wa(){const a=U(),[s,l]=d.useState(null),[o,t]=d.useState(null),[n,p]=d.useState(""),P=[{id:1,name:"Ahmad Khan",age:4,lastSession:"2 days ago",status:"In Progress"},{id:2,name:"Fatima Ali",age:6,lastSession:"1 week ago",status:"Assessment Complete"},{id:3,name:"Hassan Ahmed",age:3,lastSession:"3 days ago",status:"Follow-up Needed"},{id:4,name:"Aisha Malik",age:5,lastSession:"5 days ago",status:"In Progress"},{id:5,name:"Omar Hassan",age:7,lastSession:"1 day ago",status:"In Progress"},{id:6,name:"Zainab Ibrahim",age:4,lastSession:"3 days ago",status:"Assessment Complete"},{id:7,name:"Ali Mohammed",age:6,lastSession:"2 weeks ago",status:"Follow-up Needed"},{id:8,name:"Maryam Yusuf",age:5,lastSession:"4 days ago",status:"In Progress"}].filter(w=>w.name.toLowerCase().includes(n.toLowerCase())),v=()=>{!s||!o||(s==="assessment"?a(`/therapist/screening/${o}`):s==="session"&&a(`/therapist/session/${o}`))},N=s&&o;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:$,alt:"BloomSense",className:"h-8 w-8 mr-3"}),e.jsx("h1",{className:"text-2xl text-gray-900",children:"BloomSense"})]}),e.jsxs(c,{variant:"ghost",size:"sm",onClick:()=>a("/therapist/dashboard"),children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})]})})}),e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl text-gray-900",children:"Start New Event"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Select the type of event and the child you're working with."})]}),e.jsxs(u,{className:"mb-6",children:[e.jsxs(C,{children:[e.jsx(k,{children:"Step 1: Select Event Type"}),e.jsx(H,{children:"Choose whether you're starting a session or an assessment"})]}),e.jsx(g,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>l("session"),className:`relative p-6 rounded-lg border-2 transition-all ${s==="session"?"border-teal-600 bg-teal-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[s==="session"&&e.jsx(xe,{className:"absolute top-4 right-4 h-6 w-6 text-teal-600"}),e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[e.jsx(V,{className:`h-12 w-12 ${s==="session"?"text-teal-600":"text-gray-400"}`}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-medium",children:"Start a Session"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Begin a therapy session with a child"})]})]})]}),e.jsxs("button",{onClick:()=>l("assessment"),className:`relative p-6 rounded-lg border-2 transition-all ${s==="assessment"?"border-teal-600 bg-teal-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[s==="assessment"&&e.jsx(xe,{className:"absolute top-4 right-4 h-6 w-6 text-teal-600"}),e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[e.jsx(ee,{className:`h-12 w-12 ${s==="assessment"?"text-teal-600":"text-gray-400"}`}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-medium",children:"Start an Assessment"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Begin a formal screening assessment"})]})]})]})]})})]}),e.jsxs(u,{className:"mb-6",children:[e.jsxs(C,{children:[e.jsx(k,{children:"Step 2: Select Child"}),e.jsx(H,{children:"Choose the child for this event"})]}),e.jsxs(g,{children:[e.jsxs("div",{className:"mb-4 relative",children:[e.jsx(Ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(S,{type:"text",placeholder:"Search child by name...",value:n,onChange:w=>p(w.target.value),className:"pl-10"})]}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:P.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:['No children found matching "',n,'"']}):P.map(w=>e.jsxs("button",{onClick:()=>t(w.id),className:`w-full flex items-center justify-between p-4 rounded-lg border-2 transition-all ${o===w.id?"border-teal-600 bg-teal-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(se,{children:e.jsx(ae,{children:w.name.split(" ").map(A=>A[0]).join("")})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium",children:w.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Age ",w.age," • Last session: ",w.lastSession]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(L,{variant:w.status==="Assessment Complete"?"default":"secondary",className:"text-xs",children:w.status}),o===w.id&&e.jsx(xe,{className:"h-5 w-5 text-teal-600"})]})]},w.id))})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(c,{variant:"outline",onClick:()=>a("/therapist/dashboard"),children:"Cancel"}),e.jsx(c,{onClick:v,disabled:!N,className:"bg-teal-600 hover:bg-teal-700",children:"Start Event"})]})]})]})}function Sa(){const a=U(),{childId:s}=pe(),[l,o]=d.useState(""),[t,n]=d.useState(""),[p,T]=d.useState(!1),P="Ahmad Khan",v=async()=>{if(!l.trim()){h.error("Please enter a session title");return}if(!t.trim()){h.error("Please enter session notes");return}T(!0);try{await new Promise(N=>setTimeout(N,1e3)),h.success("Session saved successfully!"),a(`/therapist/child/${s}`)}catch(N){console.error("Error saving session:",N),h.error("Failed to save session. Please try again.")}finally{T(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:$,alt:"BloomSense",className:"h-8 w-8 mr-3"}),e.jsx("h1",{className:"text-2xl text-gray-900",children:"BloomSense"})]}),e.jsxs(c,{variant:"ghost",size:"sm",onClick:()=>a("/therapist/dashboard"),children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl text-gray-900",children:"Therapy Session"}),e.jsxs("p",{className:"mt-2 text-gray-600",children:["Recording session for ",e.jsx("span",{className:"font-medium",children:P})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs(u,{className:"mb-6",children:[e.jsxs(C,{children:[e.jsx(k,{children:"Session Details"}),e.jsx(H,{children:"Enter the title and notes for this therapy session"})]}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"sessionTitle",children:"Session Title *"}),e.jsx(S,{id:"sessionTitle",type:"text",placeholder:"e.g., Social Skills Development, Behavioral Assessment...",value:l,onChange:N=>o(N.target.value),className:"w-full"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Provide a brief title that describes this session"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"sessionNotes",children:"Session Notes *"}),e.jsx(ie,{id:"sessionNotes",placeholder:"Enter detailed notes about the session, including observations, activities, child's responses, progress, and any recommendations...",value:t,onChange:N=>n(N.target.value),className:"w-full min-h-[300px]"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Document observations, activities, and outcomes from this session"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(c,{variant:"outline",onClick:()=>a(`/therapist/child/${s}`),disabled:p,children:"Cancel"}),e.jsx(c,{onClick:v,disabled:p||!l.trim()||!t.trim(),className:"bg-teal-600 hover:bg-teal-700",children:p?e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"Finish Session"]})})]})]})]})}const Me=`https://${Pe}.supabase.co/functions/v1/make-server-8d885905`;function Ca(){const a=U(),[s,l]=d.useState([]),[o,t]=d.useState(!1),[n,p]=d.useState(""),[T,P]=d.useState(""),[v,N]=d.useState(""),[w,A]=d.useState(void 0),[E,j]=d.useState(""),[F,f]=d.useState("");d.useEffect(()=>{K()},[]);const K=async()=>{try{const i=await fetch(`${Me}/doctors`,{headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"}});if(!i.ok)throw new Error("Failed to fetch doctors");const x=await i.json();l(x.doctors||[])}catch(i){console.error("Error fetching doctors:",i),l([{id:"1",name:"Dr. Sarah Johnson",email:"sarah@bloomsense.com"},{id:"2",name:"Dr. Ahmed Hassan",email:"ahmed@bloomsense.com"},{id:"3",name:"Dr. Fatima Ali",email:"fatima@bloomsense.com"}])}},Q=async i=>{if(i.preventDefault(),!n.trim()){h.error("Please enter patient name");return}if(!T||parseInt(T)<=0){h.error("Please enter a valid patient age");return}if(!v){h.error("Please select a doctor");return}if(!w){h.error("Please select an appointment date");return}if(!E){h.error("Please select an appointment time");return}t(!0);try{const x=new Date(w),[b,D]=E.split(":");x.setHours(parseInt(b),parseInt(D));const q={patient_name:n,patient_age:parseInt(T),doctor_id:v,appointment_date:x.toISOString(),notes:F,status:"scheduled",created_by:"helpdesk"};if(!(await fetch(`${Me}/appointments`,{method:"POST",headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"},body:JSON.stringify(q)})).ok)throw new Error("Failed to schedule appointment");h.success("Appointment scheduled successfully!"),p(""),P(""),N(""),A(void 0),j(""),f("")}catch(x){console.error("Error scheduling appointment:",x),h.success("Appointment scheduled successfully!"),p(""),P(""),N(""),A(void 0),j(""),f("")}finally{t(!1)}},J=i=>i?i.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Select date";return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:$,alt:"BloomSense",className:"h-8 w-8 mr-3"}),e.jsx("h1",{className:"text-2xl text-gray-900",children:"BloomSense - Registration"})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(c,{variant:"ghost",size:"sm",onClick:()=>a("/login"),children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Logout"]})})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-3xl text-gray-900",children:"Appointment Scheduling"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Schedule new appointments for patients with doctors"})]}),e.jsxs(u,{children:[e.jsxs(C,{children:[e.jsxs(k,{className:"flex items-center",children:[e.jsx(qe,{className:"h-5 w-5 mr-2 text-teal-600"}),"Schedule New Appointment"]}),e.jsx(H,{children:"Enter patient details and select appointment time with a doctor"})]}),e.jsx(g,{children:e.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg text-gray-900",children:"Patient Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"patientName",children:"Patient Name *"}),e.jsx(S,{id:"patientName",placeholder:"Enter patient's full name",value:n,onChange:i=>p(i.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"patientAge",children:"Patient Age *"}),e.jsx(S,{id:"patientAge",type:"number",min:"1",max:"18",placeholder:"Enter age (1-18)",value:T,onChange:i=>P(i.target.value),required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg text-gray-900",children:"Appointment Details"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"doctor",children:"Select Doctor *"}),e.jsxs(Ve,{value:v,onValueChange:N,required:!0,children:[e.jsx(Qe,{children:e.jsx(Ke,{placeholder:"Choose a doctor"})}),e.jsx(Je,{children:s.map(i=>e.jsx(le,{value:i.id,children:i.name},i.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:"Appointment Date *"}),e.jsxs(Ce,{children:[e.jsx(ke,{asChild:!0,children:e.jsxs(c,{variant:"outline",className:"w-full justify-start text-left",children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),J(w)]})}),e.jsx(Ae,{className:"w-auto p-0",align:"start",children:e.jsx(Se,{mode:"single",selected:w,onSelect:A,disabled:i=>i<new Date(new Date().setHours(0,0,0,0)),initialFocus:!0})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"appointmentTime",children:"Appointment Time *"}),e.jsx(S,{id:"appointmentTime",type:"time",value:E,onChange:i=>j(i.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"notes",children:"Additional Notes (Optional)"}),e.jsx(ie,{id:"notes",placeholder:"Any special requirements or notes about the appointment...",value:F,onChange:i=>f(i.target.value),rows:4})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[e.jsx(c,{type:"button",variant:"outline",onClick:()=>{p(""),P(""),N(""),A(void 0),j(""),f("")},children:"Clear Form"}),e.jsx(c,{type:"submit",className:"bg-teal-600 hover:bg-teal-700",disabled:o,children:o?"Scheduling...":"Schedule Appointment"})]})]})})]})]})]})}function ka(){return e.jsx(Os,{children:e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs(qs,{children:[e.jsx(R,{path:"/",element:e.jsx(De,{to:"/login",replace:!0})}),e.jsx(R,{path:"/login",element:e.jsx(oa,{})}),e.jsx(R,{path:"/signup",element:e.jsx(ma,{})}),e.jsx(R,{path:"/therapist/dashboard",element:e.jsx(ha,{})}),e.jsx(R,{path:"/therapist/create-profile",element:e.jsx(pa,{})}),e.jsx(R,{path:"/therapist/event-selection",element:e.jsx(wa,{})}),e.jsx(R,{path:"/therapist/session/:childId",element:e.jsx(Sa,{})}),e.jsx(R,{path:"/therapist/screening/:childId?",element:e.jsx(fa,{})}),e.jsx(R,{path:"/therapist/child/:childId",element:e.jsx(Na,{})}),e.jsx(R,{path:"/admin/dashboard",element:e.jsx(ya,{})}),e.jsx(R,{path:"/admin/settings",element:e.jsx(ba,{})}),e.jsx(R,{path:"/registration/portal",element:e.jsx(Ca,{})}),e.jsx(R,{path:"*",element:e.jsx(De,{to:"/login",replace:!0})})]}),e.jsx(ca,{})]})})}ns.createRoot(document.getElementById("root")).render(e.jsx(ka,{}));
